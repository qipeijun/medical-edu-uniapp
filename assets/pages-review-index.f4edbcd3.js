import{o as e,c as t,w as s,a as r,v as o,f as a,B as l,i as c,j as i,b as d,t as n,x as u,y as f,F as p,e as g,d as m,S as h,g as b}from"./index-4a91be04.js";import{u as y}from"./review.9d4b8029.js";import{u as _}from"./question.89412873.js";import{T as j}from"./TabBar.25d8b269.js";import{_ as S}from"./_plugin-vue_export-helper.1b428a4d.js";import{S as v}from"./constants.90a8addf.js";import"./questions.c06fdb8d.js";import"./spaced-repetition.7378a4c3.js";import"./storage.b6dfcd1b.js";const w=S({components:{TabBar:j,ProgressRing:S({name:"ProgressRing",props:{percent:{type:Number,default:0},size:{type:Number,default:120},strokeWidth:{type:Number,default:8},color:{type:String,default:"#FFFFFF"},trackColor:{type:String,default:"rgba(255,255,255,0.3)"}},computed:{leftStyle(){const e=this.percent>50?3.6*(this.percent-50)-135:-135;return{width:this.size+"rpx",height:this.size+"rpx",borderWidth:this.strokeWidth+"rpx",borderColor:this.color,transform:`rotate(${e}deg)`}},rightStyle(){const e=this.percent<=50?3.6*this.percent-135:45;return{width:this.size+"rpx",height:this.size+"rpx",borderWidth:this.strokeWidth+"rpx",borderColor:this.color,transform:`rotate(${e}deg)`}}}},[["render",function(i,d,n,u,f,p){const g=c;return e(),t(g,{class:"progress-ring",style:o({width:n.size+"rpx",height:n.size+"rpx"})},{default:s(()=>[r(g,{class:"ring-circle",style:o({borderColor:n.trackColor,borderWidth:n.strokeWidth+"rpx"})},null,8,["style"]),a(" Simple CSS implementation for MVP, ideal solution needs canvas or SVG for arbitrary percentage "),a(" Here we simulate roughly with border and rotation for visual effect "),r(g,{class:"ring-fill-left",style:o(p.leftStyle)},null,8,["style"]),r(g,{class:"ring-fill-right",style:o(p.rightStyle)},null,8,["style"]),r(g,{class:"ring-content"},{default:s(()=>[l(i.$slots,"default",{},void 0,!0)]),_:3})]),_:3},8,["style"])}],["__scopeId","data-v-d275c823"]])},computed:{reviewStore:()=>y(),totalToday(){return this.reviewStore.totalToday},completedCount(){return this.reviewStore.completedCount},progress(){return this.reviewStore.progress},reviewsBySubject(){return this.reviewStore.reviewsBySubject}},onShow(){this.reviewStore.loadTodayReviews()},methods:{getSubjectColor(e){const t=v.find(t=>t.name===e);return t?t.color:"#03A9F4"},getSubjectIcon:e=>({"ç³»ç»Ÿè§£å‰–å­¦":"ğŸ¦´","ç”Ÿç†å­¦":"ğŸ’“","ç—…ç†å­¦":"ğŸ”¬","è¯ç†å­¦":"ğŸ’Š","å†…ç§‘å­¦":"ğŸ©º","å¤–ç§‘å­¦":"ğŸ”ª","å¦‡äº§ç§‘å­¦":"ğŸ‘©","å„¿ç§‘å­¦":"ğŸ‘¶"}[e]||"ğŸ“š"),isRecommended:e=>e.total-e.completed>10,startReview(e){_(),i({title:"å¼€å§‹å¤ä¹  "+e,icon:"none"})}}},[["render",function(l,i,y,_,j,S){const v=c,w=g,C=m("ProgressRing"),k=b,x=h,F=m("TabBar");return e(),t(v,{class:"page"},{default:s(()=>[r(x,{class:"content","scroll-y":""},{default:s(()=>[a(" Overall Card "),r(v,{class:"overall-card"},{default:s(()=>[r(v,{class:"bg-decoration"}),r(v,{class:"card-content"},{default:s(()=>[r(v,{class:"left"},{default:s(()=>[r(w,{class:"label"},{default:s(()=>[d("ä»Šæ—¥å¾…å¤ä¹ æ€»é¢˜æ•°")]),_:1}),r(v,{class:"count-box"},{default:s(()=>[r(w,{class:"count"},{default:s(()=>[d(n(S.totalToday),1)]),_:1}),r(w,{class:"unit"},{default:s(()=>[d("é¢˜")]),_:1})]),_:1})]),_:1}),r(v,{class:"right"},{default:s(()=>[r(C,{percent:S.progress,size:120,strokeWidth:8,color:"#FFFFFF",trackColor:"rgba(255,255,255,0.3)"},{default:s(()=>[r(w,{class:"percent"},{default:s(()=>[d(n(S.progress)+"%",1)]),_:1})]),_:1},8,["percent"])]),_:1})]),_:1}),r(v,{class:"status-badge"},{default:s(()=>[d(" å·²å¤ä¹  "+n(S.completedCount)+" é¢˜ ",1)]),_:1})]),_:1}),a(" Subject List "),r(v,{class:"section-title"},{default:s(()=>[d("å¾…å¤ä¹ å­¦ç§‘")]),_:1}),r(v,{class:"subject-list"},{default:s(()=>[(e(!0),u(p,null,f(S.reviewsBySubject,(l,c)=>(e(),t(v,{class:"subject-card",key:c},{default:s(()=>[r(v,{class:"card-left"},{default:s(()=>[r(v,{class:"icon-ring"},{default:s(()=>[a(" Mini Progress Ring for each subject "),r(C,{percent:l.progress,size:96,strokeWidth:6,color:S.getSubjectColor(l.subjectName),trackColor:S.getSubjectColor(l.subjectName)+"33"},{default:s(()=>[r(w,{class:"icon",style:o({color:S.getSubjectColor(l.subjectName)})},{default:s(()=>[d(n(S.getSubjectIcon(l.subjectName)),1)]),_:2},1032,["style"])]),_:2},1032,["percent","color","trackColor"])]),_:2},1024),r(v,{class:"info"},{default:s(()=>[r(w,{class:"name"},{default:s(()=>[d(n(l.subjectName),1)]),_:2},1024),r(w,{class:"desc"},{default:s(()=>[d("å¾…å¤ä¹  "+n(l.total-l.completed)+" é¢˜",1)]),_:2},1024)]),_:2},1024)]),_:2},1024),r(v,{class:"card-right"},{default:s(()=>[S.isRecommended(l)?(e(),t(v,{key:0,class:"tag"},{default:s(()=>[d("é€Ÿåˆ·æ¨è")]),_:1})):a("v-if",!0),r(k,{class:"btn-start",onClick:e=>S.startReview(l.subjectId)},{default:s(()=>[d("å¼€å§‹")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128)),0===S.totalToday?(e(),t(v,{key:0,class:"empty-state"},{default:s(()=>[r(w,{class:"empty-text"},{default:s(()=>[d("ä»Šæ—¥æš‚æ— å¤ä¹ ä»»åŠ¡ ğŸ‰")]),_:1})]),_:1})):a("v-if",!0)]),_:1}),r(v,{class:"footer-spacer"})]),_:1}),r(F)]),_:1})}],["__scopeId","data-v-e5ce008d"]]);export{w as default};
