import{C as t}from"./index-4a91be04.js";import{m as e}from"./questions.c06fdb8d.js";import{g as s,a as o}from"./spaced-repetition.7378a4c3.js";const a=t("review",{state:()=>({todayReviews:[],completedToday:[],statistics:null}),getters:{totalToday:t=>t.todayReviews.length,completedCount:t=>t.completedToday.length,remainingCount:t=>t.totalToday-t.completedCount,progress:t=>0===t.totalToday?0:Math.round(t.completedCount/t.totalToday*100),reviewsBySubject:t=>{const e={};return t.todayReviews.forEach(s=>{const o=s.subjectId;e[o]||(e[o]={subjectId:o,subjectName:s.subjectName,items:[],total:0,completed:0}),e[o].items.push(s),e[o].total++,t.completedToday.includes(s.id)&&e[o].completed++}),Object.values(e).forEach(t=>{t.progress=t.total>0?Math.round(t.completed/t.total*100):0}),e}},actions:{loadTodayReviews(){const t=e.filter(t=>t.reviewSchedule);this.todayReviews=s(t),this.updateStatistics()},completeReview(t){this.completedToday.includes(t)||(this.completedToday.push(t),this.updateStatistics())},updateStatistics(){const t=this.todayReviews.map(t=>({...t,isCompleted:this.completedToday.includes(t.id)}));this.statistics=o(t)},resetToday(){this.completedToday=[],this.updateStatistics()}}});export{a as u};
